function newState = prepareCube(result)
%  输入的 result 是 xyp 识别之后的三维矩阵 result
%  prepareCube 转化数据结构
%  将魔方表示形式由表示六个面的矩阵转化为 1*40 的数组
%  newState = [0, 6, 2, 3, 10, 4, 8, 1, 5, 9, 7, 11, 13, 19, 14, 15, 16, 12, 17, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 2, 0, 1, 1];

result = uint32(result);
state_dict = struct("UF", [0, 0], "FU", [0, 1], ...
                              "UR", [1, 0], "RU", [1, 1], ...
                              "UB", [2, 0], "BU", [2, 1], ...
                              "UL", [3, 0], "LU", [3, 1], ...
                              "DF", [4, 0], "FD", [4, 1], ...
                              "DR", [5, 0], "RD", [5, 1], ...
                              "DB", [6, 0], "BD", [6, 1], ...
                              "DL", [7, 0], "LD", [7,1], ...
                              "FR", [8, 0], "RF", [8,1], ...
                              "FL", [9, 0], "LF", [9,1], ...
                              "BR", [10, 0], "RB", [10,1], ...
                              "BL", [11, 0], "LB", [11,1], ...
                              "UFR", [12, 0], "RUF", [12, 1], "FRU", [12,2], ...
                              "URB", [13, 0], "BUR", [13, 1], "RBU", [13,2], ...
                              "UBL", [14, 0], "LUB", [14, 1], "BLU", [14,2], ...
                              "ULF", [15, 0], "FUL", [15, 1], "LFU" , [15,2], ...
                              "DRF", [16, 0], "FDR", [16, 1], "RFD" , [16,2], ...
                              "DFL", [17, 0], "LDF", [17, 1], "FLD" , [17,2], ...
                              "DLB", [18, 0], "BDL", [18, 1], "LBD" , [18,2], ...
                              "DBR", [19, 0], "RDB", [19, 1], "BRD" , [19,2]);
cube1 = state_dict.(num2alpha(num2str(result(5, 3, 2)*10 + result(1, 1, 2)))); %UF 51
cube2 = state_dict.(num2alpha(num2str(result(5, 2, 3)*10 + result(2, 1, 2)))); %UR 52
cube3 = state_dict.(num2alpha(num2str(result(5, 1, 2)*10 + result(3, 1, 2)))); %UB 53
cube4 = state_dict.(num2alpha(num2str(result(5, 2, 1)*10 + result(4, 1, 2)))); %UL 54
cube5 = state_dict.(num2alpha(num2str(result(6, 1, 2)*10 + result(1, 3, 2)))); %DF 61
cube6 = state_dict.(num2alpha(num2str(result(6, 2, 3)*10 + result(2, 3, 2)))); %DR 62
cube7 = state_dict.(num2alpha(num2str(result(6, 3, 2)*10 + result(3, 3, 2)))); %DB 63
cube8 = state_dict.(num2alpha(num2str(result(6, 2, 1)*10 + result(4, 3, 2)))); %DL 64
cube9 = state_dict.(num2alpha(num2str(result(1, 2, 3)*10 + result(2, 2, 1)))); %FR 12
cube10 = state_dict.(num2alpha(num2str(result(1, 2, 1)*10 + result(4, 2, 3)))); %FL 14
cube11 = state_dict.(num2alpha(num2str(result(3, 2, 1)*10 + result(2, 2, 3)))); %BR 32
cube12 = state_dict.(num2alpha(num2str(result(3, 2, 3)*10 + result(4, 2, 1)))); %BL 34

% 角块儿
cube13 = state_dict.(num2alpha(num2str(result(5,3,3)*100 + result(1,1,3)*10 + result(2,1,1)))); %UFR 512
cube14 = state_dict.(num2alpha(num2str(result(5,1,3)*100 + result(2,1,3)*10 + result(3,1,1)))); %URB 523
cube15 = state_dict.(num2alpha(num2str(result(5,1,1)*100 + result(3,1,3)*10 + result(4,1,1)))); %UBL 534
cube16 = state_dict.(num2alpha(num2str(result(5,3,1)*100 + result(4,1,3)*10 + result(1,1,1)))); %ULF 541
cube17 = state_dict.(num2alpha(num2str(result(6,1,3)*100 + result(2,3,1)*10 + result(1,3,3)))); %DRF 621
cube18 = state_dict.(num2alpha(num2str(result(6,1,1)*100 + result(1,3,1)*10 + result(4,3,3)))); %DFL 614
cube19 = state_dict.(num2alpha(num2str(result(6,3,1)*100 + result(4,3,1)*10 + result(3,3,3)))); %DLB 643
cube20 = state_dict.(num2alpha(num2str(result(6,3,3)*100 + result(3,3,1)*10 + result(2,3,3)))); %DBR 632
matrix = [cube1;cube2;cube3;cube4;cube5;...
               cube6;cube7;cube8;cube9;cube10;...
               cube11;cube12;cube13;cube14;cube15;...
               cube16;cube17;cube18;cube19;cube20];
newState = [matrix(:,1);matrix(:,2)];
newState = newState.';

end

